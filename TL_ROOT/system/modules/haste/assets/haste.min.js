var Haste=Haste||{};Haste.toggleAjaxOperation=function(b,e){b.blur();var d=$(b).getFirst("img"),a=b.getAttribute("data-haste-ajax-operation-name"),c=b.getAttribute("data-haste-ajax-operation-value");new Request.JSON({followRedirects:true,url:window.location.href,onComplete:function(g){if(this.getHeader("X-Ajax-Location")){window.location.replace(this.getHeader("X-Ajax-Location"));return}var f=g.nextIcon;if(f.indexOf("/")==-1){var h="images";if(/\.svg$/i.test(f)){h="icons"}f=Contao.script_url+"system/themes/"+Contao.theme+"/"+h+"/"+g.nextIcon}d.src=f;b.setAttribute("data-haste-ajax-operation-value",g.nextValue)}}).post({action:"hasteAjaxOperation",operation:a,id:e,value:c,REQUEST_TOKEN:Contao.request_token});return false};